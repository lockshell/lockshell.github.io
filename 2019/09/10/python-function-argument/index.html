<!DOCTYPE html>
<html class="no-js" lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Python变量与参数传递 - 络壳 LockShell</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="Python Function Argument">
	<meta property="og:title" content="Python变量与参数传递" />
<meta property="og:description" content="Python Function Argument" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lockshell.com/2019/09/10/python-function-argument/" />
<meta property="article:published_time" content="2019-09-10T18:28:46+08:00" />
<meta property="article:modified_time" content="2019-09-10T18:28:46+08:00" />

	<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python变量与参数传递"/>
<meta name="twitter:description" content="Python Function Argument"/>

	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-131513582-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="络壳 LockShell" rel="home">
				<div class="logo__title">络壳 LockShell</div>
				<div class="logo__tagline">Slow is fast</div>
			</a>
		</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/links/">
				
				<span class="menu__text">友情链接</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/archives/">
				
				<span class="menu__text">文章归档</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/books/">
				
				<span class="menu__text">读万卷书</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>

	
	<link href="https://lockshell.com/css/custom.css" rel="stylesheet">

	
	<script data-ad-client="ca-pub-1242672487226703" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	
	
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.9/styles/monokai.min.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.9/highlight.min.js"></script>
	<script async src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.9/languages/go.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	
</header>

		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python变量与参数传递</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
	<time class="meta__text" datetime="2019-09-10T18:28:46&#43;08:00">2019-09-10</time>
</div>

<div class="meta__item-categories meta__item">
	<svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg>
	<span class="meta__text"><a class="meta__link" href="/categories/python/" rel="category">Python</a>
	</span>
</div>
<span class="meta__text post-word-count" style="margin: 20px 0 0 10px"> 717 words</span>
</div>
		</header><div id="custom-content" class="custom-content content post__content clearfix">
			<h2 id="python变量">Python变量</h2>
<p>变量的赋值，只是表示让变量指向了某个对象，并不表示拷贝对象给变量；而一个对象，可以被多个变量所指向。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
b <span style="color:#f92672">=</span> a
a <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e"># a = 2, b = 1</span>
</code></pre></div><p>可变对象（列表，字典，集合等等）的改变，会影响所有指向该对象的变量。</p>
<pre><code>a = [1, 2, 3]
b = a
a[0] = 0
print b  # [0, 2, 3]
</code></pre><p>对于不可变对象（字符串，整型，元祖等等），所有指向该对象的变量的值总是一样的，也不会改变。
但是通过某些操作（+= 等等）更新不可变对象的值时，会返回一个新的对象。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1&#39;</span>
b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1&#39;</span>

id(a)  <span style="color:#75715e"># 4467286984</span>
id(b)  <span style="color:#75715e"># 4467286984</span>

c <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> b
id(c)  <span style="color:#75715e"># 4455971336 返回了新的对象</span>
</code></pre></div><p>变量可以被删除，但是对象无法被删除。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">l <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
<span style="color:#66d9ef">del</span> l
</code></pre></div><h2 id="值传递-or-引用传递">值传递 or 引用传递</h2>
<p>其他语言不同的是，Python 中参数的传递既不是值传递，也不是引用传递，而是<strong>赋值传递</strong>，或者是叫<strong>对象的引用传递</strong>。</p>
<blockquote>
<p>“Remember that arguments are passed by assignment in Python. Since assignment just creates references to objects, there’s no alias between an argument name in the caller and callee, and so no call-by-reference per Se.”</p>
</blockquote>
<p>Python 的参数传递是赋值传递（pass by assignment），或者叫作对象的引用传递（pass by object reference）。</p>
<p>Python 里所有的数据类型都是对象，所以参数传递时，只是让新变量与原变量指向相同的对象而已，并不存在值传递或是引用传递一说。</p>
<h2 id="用函数来改变变量的值">用函数来改变变量的值</h2>
<p>如果你想通过一个函数来改变某个变量的值，通常有两种方法。</p>
<p>一种是创建一个新变量，来保存修改后的值，然后将其返回给原变量。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">arg <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">change_arg_val</span>(arg):
    new_val <span style="color:#f92672">=</span> arg <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
    <span style="color:#66d9ef">return</span> new_val

arg <span style="color:#f92672">=</span> change_arg_val(arg)

</code></pre></div><p>这里<code>arg</code>不是指向一个具体的地址，而是一个具体的对象，当<code>new_val = arg + 1</code>执行，new_val就指向了一个新的对象。</p>
<p>第二种是直接将可变数据类型（比如列表，字典，集合）当作参数传入，直接在其上修改；</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">change_arg_val</span>(arg):
    arg[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>

arg <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>]
change_arg_val(arg)
</code></pre></div><p>在实际工作中，我们更倾向于使用前者；逻辑更清晰，减少耦合，不容易出错。</p>

			<div style="color: grey">本文由 <a target="_blank" href="https://lockshell.com/">络壳</a> 原创或整理，转载请注明出处</div>
			<hr>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/python/" rel="tag">Python</a></li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="宝丐 avatar" src="/sheep2.jpg" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About 宝丐</span>
	</div>
	<div class="authorbox__description">
		流水不争先，争的是滔滔不绝
	</div>
</div>

<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/2019/08/28/django-db-connection-pool/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">Django数据库连接池</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/2019/09/16/django-queryset-cache-and-iterator/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">Django QuerySet缓存和迭代器</p></a>
	</div>
</nav>

<div id="gitalk-container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script>
  const gitalk = new Gitalk({
    clientID: '41b3bd5685f4310306a5',
    clientSecret: '4b943ef7620d478481ffd403f08bb951e01e22b8',
    repo: 'lockshell.github.io',
    owner: 'lockshell',
    admin: ['lockshell'],
    id: location.pathname, 
    distractionFreeMode: false 
  });
  (function() {
    if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
      document.getElementById('gitalk-container').innerHTML = 'Gitalk comments not available by default when the website is previewed locally.';
      return;
    }
    gitalk.render('gitalk-container');
  })();
</script>



			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 LockShell.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
        </span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>